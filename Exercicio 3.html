<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Festival de Cinema</title>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="index.jsx">
    import React, { Suspense, useState } from "react";
import ReactDOM from "react-dom/client";
import {
  BrowserRouter,
  Routes,
  Route,
  Link,
  NavLink,
  Outlet,
  useParams,
  useNavigate,
} from "react-router-dom";

// Lazy loading do componente FilmeDetalhe
const FilmeDetalhe = React.lazy(() => import("./FilmeDetalhe.jsx"));

// Mock de autentica√ß√£o
let isLoggedIn = false;

// Layout do Festival
function FestivalLayout() {
  return (
    <div style={{ display: "flex" }}>
      <nav style={{ width: "200px", padding: "1rem", borderRight: "1px solid gray" }}>
        <h2>Festival</h2>
        <NavLink to="programacao" style={({isActive}) => ({display:'block', margin:'5px 0', color: isActive ? 'red' : 'black'})}>Programa√ß√£o</NavLink>
        <NavLink to="filmes/1" style={({isActive}) => ({display:'block', margin:'5px 0', color: isActive ? 'red' : 'black'})}>Filme 1</NavLink>
        <NavLink to="filmes/2" style={({isActive}) => ({display:'block', margin:'5px 0', color: isActive ? 'red' : 'black'})}>Filme 2</NavLink>
        <NavLink to="vip" style={({isActive}) => ({display:'block', margin:'5px 0', color: isActive ? 'red' : 'black'})}>√Årea VIP</NavLink>
      </nav>
      <main style={{ padding: "1rem", flex: 1 }}>
        <Outlet />
      </main>
    </div>
  );
}

// Programa√ß√£o
function Programacao() {
  return <h3>Confira a programa√ß√£o completa do festival!</h3>;
}

// Componente VIP protegido
function VIP() {
  return <h3>Bem-vindo √† √°rea VIP do Festival!</h3>;
}

// Mock de Login
function Login() {
  const navigate = useNavigate();
  const handleLogin = () => {
    isLoggedIn = true;
    navigate("/festival/vip");
  };
  return (
    <div>
      <h3>Fa√ßa login para acessar a √Årea VIP</h3>
      <button onClick={handleLogin}>Entrar</button>
    </div>
  );
}

// Componente de rota protegida
function ProtectedRoute({ children }) {
  const navigate = useNavigate();
  if (!isLoggedIn) {
    navigate("/login");
    return null;
  }
  return children;
}

// 404 do festival
function NotFound() {
  return <h3>üò¢ P√°gina n√£o encontrada no Festival de Cinema!</h3>;
}

// Componente principal
function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/festival" element={<FestivalLayout />}>
          <Route path="programacao" element={<Programacao />} />
          <Route path="filmes/:id" element={
            <Suspense fallback={<div>Carregando filme...</div>}>
              <FilmeDetalhe />
            </Suspense>
          } />
          <Route path="vip" element={
            <ProtectedRoute>
              <VIP />
            </ProtectedRoute>
          } />
          <Route path="*" element={<NotFound />} />
        </Route>
        <Route path="/login" element={<Login />} />
        <Route path="*" element={<h3>P√°gina n√£o encontrada fora do festival!</h3>} />
      </Routes>
    </BrowserRouter>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);

import React from "react";
import { useParams } from "react-router-dom";

export default function FilmeDetalhe() {
  const { id } = useParams();
  return <h3>Detalhes do Filme {id}</h3>;
}

  </script>
</body>
</html>
